# macOS 终端指令速查手册 📘

## 目录
- [cd 命令](#cd-命令) - 切换目录
- [ls 命令](#ls-命令) - 列出文件和目录
- [pwd 命令](#pwd-命令) - 显示当前目录
- [cp 命令](#cp-命令) - 复制文件或目录
- [mv 命令](#mv-命令) - 移动或重命名文件或目录
- [mkdir 命令](#mkdir-命令) - 创建新目录
- [rm 命令](#rm-命令) - 删除文件或目录
- [clear 命令](#clear-命令) - 清屏
- [cat 命令](#cat-命令) - 查看文件内容
- [open 命令](#open-命令) - 打开文件或目录
- [grep 命令](#grep-命令) - 文本搜索
- [find 命令](#find-命令) - 查找文件
- [chmod 命令](#chmod-命令) - 修改文件权限
- [命令连接符](#命令连接符) - 管道与逻辑操作
- [go run 命令](#go-run-命令) - 编译并运行Go程序
- [go build 命令](#go-build-命令) - 编译Go程序
- [交叉编译](#golang在macos上的交叉编译方法) - 跨平台编译

---

## cd 命令
> 🔄 切换当前工作目录

### 语法
` ` `bash
cd [目录路径]
` ` `
（请注意：实际使用时需删除反引号之间的空格，此处为展示语法而添加）

### 说明
`cd` 命令用于切换当前工作目录到指定的目录。如果不指定目录路径，则切换到用户的主目录 (`~`)。

### 示例
**切换到用户主目录：**
` ` `bash
cd
# 或
cd ~
` ` `

**切换到特定目录：**
` ` `bash
cd /Users/fumimutsumi/Desktop/golang
` ` `

**切换到上一级目录：**
` ` `bash
cd ..
` ` `

**切换到上一次所在的目录：**
` ` `bash
cd -
` ` `

---

## ls 命令
> 📋 列出当前目录下的文件和子目录

### 语法
` ` `bash
ls [选项] [目录路径]
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-a` | 列出所有文件，包括以 `.` 开头的隐藏文件。|
| `-l` | 使用长格式列出详细信息（权限、所有者、大小、修改时间）。|
| `-h` | 与 `-l` 合用，将文件大小转换为易读的单位（KB, MB）。|
| `-t` | 按修改时间排序，最新的在前。|
| `-r` | 反向排序。|
| `-S` | 按文件大小排序。|

### 说明
如果不指定 `目录路径`，则默认列出当前目录的内容。

### 示例
**列出当前目录所有内容（含隐藏文件）的详细信息：**
` ` `bash
ls -la
` ` `

**按时间倒序列出文件：**
` ` `bash
ls -lt
` ` `

**按大小倒序列出文件：**
` ` `bash
ls -lSh
` ` `

---

## pwd 命令
> 📍 显示当前工作目录的路径

### 语法
` ` `bash
pwd
` ` `

### 说明
`pwd` 命令会打印出当前所在目录的绝对路径。

### 示例
` ` `bash
pwd
# 输出示例：/Users/fumimutsumi/Desktop/golang
` ` `

---

## cp 命令
> 📋 复制文件或目录

### 语法
` ` `bash
cp [选项] 源文件 目标文件
cp [选项] 源文件... 目标目录
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-r` 或 `-R` | **递归复制**，用于复制目录及其全部内容。|
| `-i` | **交互模式**，覆盖前会询问确认。|
| `-v` | **显示过程**，输出正在复制的文件名。|
| `-n` | **不覆盖**，如果目标已存在，则跳过。|

### 说明
复制时，如果 `目标` 是一个已存在的目录，则 `源文件` 会被复制到该目录下。

### 示例
**复制文件：**
` ` `bash
cp notes.txt notes_backup.txt
` ` `

**复制目录（必须加 `-r`）：**
` ` `bash
cp -r old_project/ new_project/
` ` `

**交互式复制到目录：**
` ` `bash
cp -i *.txt ~/Documents/backups/
` ` `

---

## mv 命令
> 🚚 移动或重命名文件或目录

### 语法
` ` `bash
mv [选项] 源文件 目标文件
mv [选项] 源文件... 目标目录
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-i` | **交互模式**，覆盖前询问。|
| `-v` | **显示过程**。|
| `-n` | **不覆盖**已存在的文件。|

### 说明
- 当 `源` 和 `目标` 在同一目录时，操作为**重命名**。
- 当 `目标` 是一个目录时，操作为**移动**。

### 示例
**重命名文件：**
` ` `bash
mv draft.txt final_report.txt
` ` `

**移动文件到目录：**
` ` `bash
mv final_report.txt ~/Documents/
` ` `

**移动多个文件：**
` ` `bash
mv file1.jpg file2.png ~/Pictures/
` ` `

---

## mkdir 命令
> 📁 创建新目录

### 语法
` ` `bash
mkdir [选项] 目录名...
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-p` | **递归创建**，自动创建路径中不存在的父目录。|
| `-v` | **显示过程**。|

### 示例
**创建单个目录：**
` ` `bash
mkdir new_folder
` ` `

**创建多级目录（父目录不存在也会自动创建）：**
` ` `bash
mkdir -p project/src/components
` ` `

---

## rm 命令
> 🗑️ 删除文件或目录

### 语法
` ` `bash
rm [选项] 文件或目录...
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-r` 或 `-R` | **递归删除**，用于删除目录及其内容。|
| `-f` | **强制删除**，忽略不存在的文件，不作任何提示。|
| `-i` | **交互模式**，删除前逐一询问确认。|
| `-v` | **显示过程**。|

### ⚠️ 重要警告
`rm -rf` 命令威力巨大且不可逆，请务必**再三确认路径**后再执行，尤其是在根目录或家目录下。

### 示例
**删除文件：**
` ` `bash
rm temp.txt
` ` `

**删除目录（必须加 `-r`）：**
` ` `bash
rm -r old_cache/
` ` `

**强制删除（无警告）：**
` ` `bash
rm -rf node_modules/
` ` `

---

## clear 命令
> 🧹 清屏

### 语法
` ` `bash
clear
` ` `

### 说明
清除当前终端屏幕的所有输出，将光标移至左上角。也可使用快捷键 **`Command + K`** 实现同样效果。

---

## cat 命令
> 📖 查看、连接或创建文件

### 语法
` ` `bash
cat [选项] [文件...]
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-n` | 显示所有行的行号。|
| `-b` | 仅对非空行显示行号。|

### 说明
`cat` 适合查看**小型**文本文件。对于大文件，建议使用 `less` 命令（可按页浏览）。

### 示例
**查看文件：**
` ` `bash
cat config.yaml
` ` `

**查看文件并显示行号：**
` ` `bash
cat -n server.log
` ` `

**合并多个文件：**
` ` `bash
cat part1.txt part2.txt > complete.txt
` ` `

**快速创建小文件：**
` ` `bash
cat > note.txt
# 接着输入内容，按 Ctrl + D 保存退出
` ` `

---

## open 命令
> 📂 在macOS中打开文件、目录或URL

### 语法
` ` `bash
open [选项] [文件/目录/URL...]
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-a <应用程序名>` | 使用指定的应用程序打开。|
| `-e` | 使用 `TextEdit` 应用程序打开。|
| `-R` | 在 `Finder` 中显示该文件/目录，但不打开。|

### 说明
这是macOS特有命令，使用系统默认应用打开目标。

### 示例
**用默认应用打开：**
` ` `bash
open resume.pdf
` ` `

**用指定应用打开：**
` ` `bash
open -a “Visual Studio Code” index.html
` ` `

**在Finder中显示：**
` ` `bash
open -R /path/to/important_file
` ` `

**打开网址：**
` ` `bash
open https://www.apple.com
` ` `

---

## grep 命令
> 🔍 在文件中搜索文本模式

### 语法
` ` `bash
grep [选项] ‘搜索模式’ 文件...
` ` `

### 常用选项
| 选项 | 描述 |
|------|------|
| `-i` | **忽略大小写**。|
| `-n` | **显示匹配行的行号**。|
| `-r` 或 `-R` | **递归搜索**子目录。|
| `-l` | **仅打印包含匹配项的文件名**，不显示具体行。|
| `-v` | **反向搜索**，打印**不**匹配的行。|

### 示例
**在文件中搜索：**
` ` `bash
grep -n “error” server.log
` ` `

**递归搜索目录（忽略大小写）：**
` ` `bash
grep -ri “TODO” ./src/
` ` `

**结合管道使用：**
` ` `bash
ls -la | grep “.txt”
` ` `

---

## find 命令
> 📑 在目录树中查找文件

### 语法
` ` `bash
find 起始目录 [选项] [操作]
` ` `

### 常用表达式
| 表达式 | 描述 |
|------|------|
| `-name “模式”` | 按文件名查找（支持通配符 `*`, `?`）。|
| `-type f` | 只查找普通文件。|
| `-type d` | 只查找目录。|
| `-mtime +n` | 查找n天前修改过的文件。|
| `-exec 命令 {} \;` | 对找到的文件执行命令。|

### 示例
**查找当前目录下所有 `.html` 文件：**
` ` `bash
find . -name “*.html”
` ` `

**查找大于 10MB 的文件：**
` ` `bash
find . -type f -size +10M
` ` `

**查找 7 天内修改过的文件并删除（谨慎）：**
` ` `bash
find ./cache -type f -mtime -7 -exec rm {} \;
` ` `

---

## chmod 命令
> 🔐 更改文件或目录的权限

### 语法
` ` `bash
chmod [选项] 权限模式 文件...
` ` `

### 权限说明
权限用三位数字或字母表示（`u`用户，`g`组，`o`其他）：
- `r` = 读 (4)
- `w` = 写 (2)
- `x` = 执行 (1)

### 示例
**数字模式（最常用）：**
` ` `bash
chmod 755 script.sh    # 用户：rwx，组和其他：r-x
chmod 644 config.json # 用户：rw-，组和其他：r--
` ` `

**字母模式：**
` ` `bash
chmod u+x script.sh   # 给文件所有者添加执行权限
chmod a-w file.txt    # 移除所有用户的写权限（a代表all）
` ` `

---

## 命令连接符
> 🔗 组合多个命令

### 管道符 `|`
将前一个命令的**输出**作为后一个命令的**输入**。
` ` `bash
# 查看进程并搜索
ps aux | grep “node”
# 统计文件行数
cat file.txt | wc -l
` ` `

### 逻辑与 `&&`
只有前一个命令**成功执行**（返回状态码0），才执行后一个命令。
` ` `bash
# 进入目录，成功后再列出文件
cd ~/project && ls -la
# 编译成功后再运行
go build main.go && ./main
` ` `

### 逻辑或 `||`
只有前一个命令**执行失败**，才执行后一个命令。
` ` `bash
# 尝试用code打开，失败则用vim打开
code file.txt || vim file.txt
` ` `

### 顺序执行 `;`
无论前一个命令成功与否，都顺序执行下一个命令。
` ` `bash
echo “开始清理”; rm -f *.tmp; echo “清理完成”
` ` `

---

## go run 命令
> ▶️ 编译并运行 Go 程序

### 语法
` ` `bash
go run [选项] Go源文件...
` ` `

### 说明
`go run` 会快速编译代码并在内存中运行，**不会**在磁盘上留下可执行文件。适合快速测试。

### 示例
` ` `bash
go run main.go
go run .           # 运行当前包
` ` `

---

## go build 命令
> 🔨 编译 Go 程序并生成可执行文件

### 语法
` ` `bash
go build [选项] [包路径]
` ` `

### 说明
`go build` 会在当前目录生成一个以包名命名的可执行文件（Windows下加 `.exe`）。

### 示例
` ` `bash
go build          # 编译当前包，生成可执行文件
go build -o myapp # 编译并将输出文件命名为 `myapp`
` ` `

---

## golang在macOS上的交叉编译方法
> 🌐 在一个系统上编译出能在其他系统运行的程序

### 基本语法
` ` `bash
GOOS=目标操作系统 GOARCH=目标架构 go build -o 输出文件名 包路径
` ` `

### 常用目标组合
| 目标系统 (`GOOS`) | 目标架构 (`GOARCH`) | 输出文件说明 |
|-------------------|-------------------|--------------|
| `windows` | `amd64` | 64位Windows可执行文件 (.exe) |
| `linux` | `amd64` | 64位Linux可执行文件 |
| `darwin` (macOS) | `arm64` | Apple Silicon Mac可执行文件 |

### 示例
**编译为64位Windows程序：**
` ` `bash
GOOS=windows GOARCH=amd64 go build -o myapp.exe
` ` `

**编译为64位Linux程序：**
` ` `bash
GOOS=linux GOARCH=amd64 go build -o myapp-linux
` ` `

**编译为Apple Silicon Mac程序：**
` ` `bash
GOOS=darwin GOARCH=arm64 go build -o myapp-mac
` ` `

---

*本手册会不定期更新，最后更新于 2025-12-2*